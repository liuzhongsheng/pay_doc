

# 3、支付回调
在处理支付回调时，务必严格按照以下方式进行处理，以确保支付流程的安全性和可靠性。

## 处理流程
1. **接收回调通知**：服务器接收来自支付平台的回调通知。

2. **验证签名**：对接收到的回调数据进行签名验证，确保数据的完整性和来源的可靠性。

3. **处理回调数据**：根据回调通知中的数据，更新订单状态、记录交易信息等。

4. **返回响应**：处理完成后返回**success**标识，未返回视为通知失败将于30/60/90/120/150秒后再次通知

5. **注意事项**：请做好防重复回调处理

## 回调参数

| 参数名                  | 类型     | 必需 | 描述               | 示例值                                         |
|-------------------------|----------|------|--------------------|---------------------------------------------|
| platform_order_number   | string   | 是   | 平台订单号         | A20240512191232100196154                    |
| merchant_order_number   | string   | 是   | 商户订单号         | CS202405121912321001291                     |
| payment_amount          | string   | 是   | 支付金额（分）     | 10                                          |
| payment_status          | string   | 是   | 支付状态           | 0=待支付,1=支付中,2=支付成功,3=支付失败,4=已撤销,5=已退款,6=已关闭 |
| created_at        | string   | 是   | 创建时间           |                                          |
| order_success_time       | string   | 是   | 支付时间           | 时间戳                                         |
| order_expiry_time         | string   | 是   | 关闭时间           | 时间戳                                         |
| sign                    | string   | 是   | 签名               | 时间戳                                         |
